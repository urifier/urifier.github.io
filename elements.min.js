class t extends window.HTMLElement{constructor(){super().attachShadow({mode:'open'}).innerHTML=""}title(t=this.nodeName){return`<h4 style="margin:5px 0">${t}</h4>`}inputValue(t){return document.querySelector("uri-input#"+t).query("input").value}get URI(){return this.inputValue("URI")}get DictVar(){return this.inputValue("VAR")}get source(){let t=document.querySelector("uri-source");return t.shadowRoot?t.query("textarea").innerHTML:""}dictionary(){return this.URI.split("-")}connectedCallback(){this.render();this.connected&&this.connected();this.URIfier.addEventListener("update",(t=>{this.update&&this.update()}))}log(...t){document.body.append(...t,document.createElement("br"))}query(t,e=this.shadowRoot||this){return e.querySelector(t)}get URIfier(){return document.querySelector("URIfier")}dispatch({name:t=this.nodeName,detail:e={},options:i={detail:e,bubbles:!0,composed:!0,cancelable:!1},root:s=this}){s.dispatchEvent(new CustomEvent(t,i))}dispatchUpdate(t={}){this.dispatch({name:"update",detail:t})}set HTML(t){this.shadowRoot.innerHTML=t}}class e extends t{render(){fetch(this.URI).then((t=>t.text())).then((t=>{this.setText(t);this.dispatchUpdate()}))}textarea(t,e=t.length){t=t.replace(/</g,"&lt;");this.HTML=`<style>textarea{width:100%;height:10em}</style>${this.title(this.nodeName+` ${e} Bytes`)}<textarea>${t}</textarea>`}}window.customElements.define('uri-input',class extends t{render(){let t="D";"URI"==this.id&&(t=localStorage.getItem("URIinput")||"https://urifier.github.io/elements.min.js?-customElements-define-HTMLElement-attachShadow-innerHTML-nodeName-querySelector-input-split-render");this.HTML=this.title(this.getAttribute("title"))+`<input style="width:100%" value="${t}">`}connected(){this.query("input").onkeyup=t=>{this.dispatchUpdate(t.target.value)}}});window.customElements.define('uri-string',class extends t{render(){let t="."+this.getAttribute("string"),e=this.source.split(new RegExp(t)).length;this.HTML=`<div>${this.getAttribute("idx")}. <b>${e}</b> ${t}</div>`}update(){this.render()}});window.customElements.define('uri-dictionary',class extends t{render(){this.URIfier.strings={};let t=this.dictionary();this.HTML=this.title()+t.map(((t,e)=>{e&&(this.URIfier.strings[t]={idx:e,count:0});return`<uri-string idx="${e}" string="${t}"></uri-string>`})).join``}update(){this.render()}});window.customElements.define('uri-source',class extends e{setText(t){this.textarea(t)}});window.customElements.define('uri-fied',class extends e{setText(t){let e="let "+this.DictVar+"=document.currentScript.src.split`-`;";this.textarea(e+t)}update(){let t=this.source;Object.keys(this.URIfier.strings).map((e=>{let i=this.URIfier.strings[e];e="."+e;t=t.replaceAll(e,`[${this.DictVar}[${i.idx}]]`)}));this.setText(t)}})