let e="-customElements-define-HTMLElement-attachShadow-innerHTML-nodeName-querySelector-input-split-render";e="-customElements-define-HTMLElement-attachShadow";class t extends window.HTMLElement{constructor(){super().attachShadow({mode:'open'}).innerHTML=""}title(e=this.nodeName){return`<h4 style="margin:5px 0">${e}</h4>`}get URI(){return document.querySelector("uri-input#URI").query("input").value}get DictVar(){return document.querySelector("uri-input#VAR").query("input").value}get source(){let e=document.querySelector("uri-source");return e&&e.query?e.query("textarea").innerHTML:""}dictionary(){return this.URI.split("-")}connectedCallback(){this.render();this.connected&&this.connected();this.URIfier.addEventListener("update",(e=>{this.update&&this.update()}))}log(...e){document.body.append(...e,document.createElement("br"))}query(e,t=this.shadowRoot||this){return t.querySelector(e)}get URIfier(){return document.querySelector("URIfier")}dispatch({name:e=this.nodeName,detail:t={},options:i={detail:t,bubbles:!0,composed:!0,cancelable:!1},root:s=this}){s.dispatchEvent(new CustomEvent(e,i))}dispatchUpdate(e={}){this.dispatch({name:"update",detail:e})}set HTML(e){this.shadowRoot.innerHTML=e}}class i extends t{render(){fetch(this.URI).then((e=>e.text())).then((e=>{this.setText(e);this.dispatchUpdate()}))}textarea(e,t=e.length){e=e.replace(/</g,"&lt;");this.HTML=`<style>textarea{width:100%;height:10em}</style>${this.title(this.nodeName+` ${t} Bytes`)}<textarea>${e}</textarea>`}}window.customElements.define('uri-input',class extends t{render(){let e="D";"URI"==this.id&&(e=localStorage.getItem("URIinput")||"https://raw.githubusercontent.com/urifier/urifier.github.io/main/elements.min.js?-customElements-define-HTMLElement-attachShadow");this.HTML=this.title()+`<input style="width:100%" value="${e}">`}connected(){this.query("input").onkeyup=e=>{this.dispatchUpdate(e.target.value)}}});window.customElements.define('uri-string',class extends t{render(){let e="."+this.getAttribute("string"),t=this.source.split(new RegExp(e)).length;this.HTML=`<div>${this.getAttribute("idx")}. <b>${t}</b> ${e}</div>`}update(){this.render()}});window.customElements.define('uri-dictionary',class extends t{render(){this.URIfier.strings={};let e=this.dictionary();this.HTML=this.title()+e.map(((e,t)=>{t&&(this.URIfier.strings[e]={idx:t,count:0});return`<uri-string idx="${t}" string="${e}"></uri-string>`})).join``}update(){this.render()}});window.customElements.define('uri-source',class extends i{setText(e){this.textarea(e)}});window.customElements.define('uri-compressed',class extends i{setText(e){let t="let "+this.DictVar+"=document.currentScript.src.split`-`;";this.textarea(t+e)}update(){let e=this.source;Object.keys(this.URIfier.strings).map((t=>{let i=this.URIfier.strings[t];t="."+t;e=e.replaceAll(t,`[${this.DictVar}[${i.idx}]]`)}));this.setText(e)}})